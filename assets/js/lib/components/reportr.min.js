define((e,r,o)=>({send(e,{logStorage:r={},logEntries:o=[],filter:t,cpRefer:n,extParams:i,clear:s=!0}={}){var[a]=performance.getEntriesByType("navigation");let l,p,c,d,g=new FormData;if(a.toJSON&&g.append("timing",JSON.stringify(a.toJSON())),p=Array.from(r[t]||o),g.append("log",p.join("\n")),l=i)for(var f in l)"log"!=f.toLowerCase()&&"string"==typeof l[f]&&g.append(f,l[f]);try{l=new URL(e)}catch(e){return void n.error(e+` 
console-plus: report: send: Invalid report URL string.`)}c=new AbortController,d=setTimeout(()=>{c.abort(),n.error("console-plus: report: send: Fetch 3s timeout.")},3e3),fetch(l,{method:"POST",priority:"low",mode:"cors",signal:c.signal,body:g}).then(e=>e.json()).then(e=>{e&&0===e.code&&(n.info(e.msg),s)&&n.clear()}).catch(e=>{n.error("console-plus: report: send: Response Exception:\n",e)}).finally(()=>{clearTimeout(d)})}}));